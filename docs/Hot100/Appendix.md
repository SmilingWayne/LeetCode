# ä¸€äº›éš¾ç‚¹å’Œé‡ç‚¹

## [215. æ•°ç»„ä¸­ç¬¬Kå¤§å…ƒç´ ](https://leetcode.cn/problems/kth-largest-element-in-an-array/description/?envType=study-plan-v2&envId=top-100-liked)

<!-- æ‰€æœ‰æ–‡ä»¶åå¿…é¡»æ˜¯è¯¥é¢˜ç›®çš„è‹±æ–‡å -->

!!! note "ä¿¡æ¯é‡å’Œç»†èŠ‚å¾ˆå¤šçš„ä¸€ä¸ªé¢˜"
    <!-- è¿™é‡Œè®°è½½è€ƒå¯Ÿçš„æ•°æ®ç»“æ„ã€ç®—æ³•ç­‰ -->
    - ğŸ”‘ğŸ”‘ éš¾åº¦ï¼š<span style = "color:gold; font-weight:bold">Medium ä¸­ç­‰ </span>

<!-- <span style = "color:gold; font-weight:bold">Medium ä¸­ç­‰ </span> ä¸­ç­‰ -->
<!-- <span style = "color:crisma; font-weight:bold">High å›°éš¾</span> å›°éš¾ -->
<!-- <span style = "color:Green; font-weight:bold">Easy ç®€å•</span> ç®€å• -->

<!-- é¢˜ç›®ç®€ä»‹ -->


> ç¤ºä¾‹1:
> ç»™å®šæ•´æ•°æ•°ç»„ nums å’Œæ•´æ•° kï¼Œè¯·è¿”å›æ•°ç»„ä¸­ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ã€‚
> 
> è¯·æ³¨æ„ï¼Œä½ éœ€è¦æ‰¾çš„æ˜¯æ•°ç»„æ’åºåçš„ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬ k ä¸ªä¸åŒçš„å…ƒç´ ã€‚
> 
> ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º O(n) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

 

> ç¤ºä¾‹ 1:
> 
> è¾“å…¥: `[3,2,1,5,6,4], k = 2`
> è¾“å‡º: `5`

```python hl_lines="7 12"
class Solution:
    def findKthLargest(self, nums: List[int], k: int) -> int:
        def partition(arr, low, high):
            pivot = arr[low]
            left, right = low, high
            while left < right:
                while left < right and pivot < arr[right]:
                    right -= 1
                if left < right:
                    arr[left] = arr[right]
                    left += 1
                while left < right and pivot > arr[left]:
                    left += 1
                if left < right:
                    arr[right] = arr[left]
                    right -= 1
            arr[left] = pivot
            return left
        
        def randomPartition(arr, low, high):
            pivot_idx = random.randint(low, high)
            arr[low], arr[pivot_idx] = arr[pivot_idx], arr[low]
            return partition(arr, low, high)

        def topK(arr, low, high, k):
            mid = randomPartition(arr, low, high)
            if mid == k - 1:
                return arr[mid]
            elif mid < k - 1:
                return topK(arr, mid + 1, high, k)
            else:
                return topK(arr, low, mid - 1, k)
        
        n = len(nums)
        return topK(nums, 0, n - 1, n - k  + 1)
            
        
```

!!! quote "è¿™ä¸ªå¾ˆå®¹æ˜“è€ƒåˆ°ã€‚è€Œä¸”æ˜¯å¿«æ’ä¸­çš„ç»å…¸ï¼Œå›°éš¾ä¸­çš„å›°éš¾ã€‚"
    1. æ¯æ¬¡å¿«æ’ç”¨åˆ°`partition`ï¼Œå®é™…ä¸Šæ˜¯é”å®šäº†ä¸€ä¸ªpivotæ‰€åœ¨çš„æœ€ç»ˆä½ç½®ã€‚è¿™ä¸ªä½ç½®èƒ½ä¿è¯ï¼Œæˆ‘å‰é¢çš„æ•°å­—ä¸€å®šéƒ½ä¸ä¼šæ¯”ä»–å¤§ï¼Œåé¢çš„æ•°å­—éƒ½ä¸æ¯”å®ƒå°ã€‚å¥½äº†ï¼Œ**å¦‚æœé”å®šçš„æœ€ç»ˆä½ç½®è¿˜ä¸å¤Ÿè¿œï¼ˆæ²¡åˆ°ç¬¬Kå¤§ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦åœ¨è¿™ä¸ªé”å®šä½ç½®çš„åé¢çš„å…ƒç´ ä¸­ç»§ç»­å»å¯»æ‰¾ï¼Œå‰é¢çš„ï¼ˆå³ä½¿æ˜¯ä¹±åºçš„ï¼‰ä¹Ÿä¸ç®¡äº†ï¼Œå› ä¸ºè‚¯å®šæ‰¾ä¸åˆ°ã€‚åä¹‹ï¼Œå¦‚æœè¿™ä¸ªä½ç½®å¤ªè¿œäº†ï¼Œæˆ‘ä»¬å°±éœ€è¦åˆ°å‰é¢æ‰¾ï¼Œåé¢çš„ï¼ˆå³ä½¿æ˜¯ä¹±åºçš„ï¼‰ä¹Ÿä¸ç®¡äº†ï¼Œå› ä¸ºè‚¯å®šæ‰¾ä¸åˆ°ã€‚**
    
    > å¼ºè¿«è‡ªå·±å¤ä¹ å¿«æ’çš„å†™æ³•ã€‚

    2. ç¬¬äºŒä¸ªtrickæ˜¯ä¸èƒ½æ¯æ¬¡éƒ½ä»¥å¤´ä¸ºpivotã€‚æ„å¤–æƒ…å†µæ˜¯å®Œå…¨å€’åºçš„åˆ—è¡¨ï¼Œä¼šé€€åŒ–ã€‚éœ€è¦åŠ å…¥éšæœºæ€§ã€‚

    3. ç¬¬ä¸‰ä¸ªtrickæ˜¯é‡å¤å…ƒç´ çš„é—®é¢˜ã€‚è¿™ä¸ªå°±å¾ˆç²¾å·§äº†ï¼Œæˆ‘ä»¬å¿…é¡»è·³è¿‡é‚£äº›é‡å¤çš„å…ƒç´ ï¼Œæ‰€ä»¥å¿…é¡»è¦æ‰€æœ‰ä¸è¿™ä¸ªpivotç›¸ç­‰çš„ï¼Œéƒ½æ”¾åˆ°å‰é¢å»ã€‚è§7/12è¡Œã€‚


## ä¸€ä»½å…³äºå¿«é€Ÿæ’åºçš„æ‰‹æŠŠæ‰‹æ•™å­¦

æˆ‘ä»¬å¯¹è¿™æ ·ä¸€ä¸ªæ•°ç»„è¿›è¡Œå¿«é€Ÿæ’åºï¼š`[5,7,4,9,2,5,8,0,4]`ã€‚æˆ‘ä»¬çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š

1. `left` æŒ‡é’ˆåªä¼šå‘å³ç§»åŠ¨ï¼›`right` æŒ‡é’ˆåªä¼šå‘å·¦ç§»åŠ¨ï¼›
2. **ä¿è¯ `left` æŒ‡é’ˆå·¦è¾¹çš„ä¸€å®šä¸æ¯” `pivot` å¤§ï¼Œè€Œ `right` æŒ‡é’ˆå³è¾¹çš„ä¸€å®šä¸æ¯” `pivot` å°ã€‚**

**ç¬¬ä¸€æ¬¡è¿­ä»£ï¼š**

æˆ‘ä»¬é€‰æ‹© `pivot` ä¸ºé˜Ÿé¦–å…ƒç´  `5`ã€‚ä¿å­˜ä¸º `pivot` å˜é‡ã€‚

æˆ‘ä»¬å£°æ˜çš„å·¦å³æŒ‡é’ˆ `left, right`ï¼Œåˆ†åˆ«æŒ‡å‘ `5, 4`ï¼Œå¤„äºé˜Ÿé¦–å’Œé˜Ÿå°¾ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é¦–å…ˆç§»åŠ¨å³è¾¹çš„æŒ‡é’ˆã€‚æˆ‘ä»¬å¸Œæœ›å³æŒ‡é’ˆä¸€ç›´ç§»åŠ¨åˆ°ä¸€ä¸ªâ€œæ¯”pivotè¿˜è¦å°çš„å…ƒç´ ä¸ºæ­¢â€ã€‚è¿™é‡Œå‘ç°`right` æŒ‡å‘çš„ `4` æ­£å¥½æ¯” `pivot` å°ï¼Œè¯´æ˜ä½ç½®å¤ªé åäº†ï¼Œè¦å¾€å‰æŒªï¼ŒæŒªåˆ°å“ªï¼Ÿå°±æ˜¯ `left` æŒ‡é’ˆã€‚æˆ‘ä»¬æŠŠè¿™ä¸ª `4` æ”¾åˆ° `left` æŒ‡é’ˆçš„ä½ç½®ï¼Œä¹Ÿå°±å˜æˆäº†ï¼š

`[4,7,4,9,2,5,8,0,4]`ã€‚`left` å¯¹åº” idx = 0, `right` å¯¹åº” idx = 8.

æ—¢ç„¶è¿™æ—¶å€™ `left` æŒ‡é’ˆå·²ç»è¢«æ›¿æ¢æˆä¸€ä¸ªæ¯” `pivot` æ›´å°çš„å…ƒç´ ï¼Œæ—¢ç„¶æˆ‘ä»¬è¦ä¿è¯â€œæ ¸å¿ƒæ€æƒ³â€æˆç«‹ï¼Œæˆ‘ä»¬å½“ç„¶åº”è¯¥æŠŠ `left` ç»§ç»­å‘å³ç§»åŠ¨ã€‚æ‰€ä»¥ `left += 1`ï¼Œä¹Ÿå°±æ˜¯ï¼š

`[4,7,4,9,2,5,8,0,4]`ã€‚`left` å¯¹åº” idx = 1, `right` å¯¹åº” idx = 8.

ç°åœ¨ï¼Œæˆ‘ä»¬ç§»åŠ¨å·¦è¾¹çš„æŒ‡é’ˆã€‚æˆ‘ä»¬å¸Œæœ›å·¦æŒ‡é’ˆä¸€ç›´ç§»åŠ¨åˆ°ä¸€ä¸ª â€œæ¯”pivotè¿˜è¦å¤§çš„å…ƒç´ ä¸ºæ­¢â€ã€‚è¯¶ï¼Œæ­£å¥½`left` æŒ‡é’ˆç°åœ¨æŒ‡å‘çš„å…ƒç´ æ˜¯ `7`ï¼Œæ‰€ä»¥ `left` æŒ‡é’ˆä¹Ÿä¸éœ€è¦åŠ¨ã€‚è¿™ä¸ªå…ƒç´ æ¯” `pivot` å¤§ï¼Œè¯´æ˜ä½ç½®å¤ªé å‰äº†ï¼Œè¦å¾€åæŒªï¼ŒæŒªåˆ°å“ªï¼Ÿå°±æ˜¯ `right` æŒ‡é’ˆã€‚æˆ‘ä»¬æŠŠè¿™ä¸ª `7` æ”¾åˆ° `right` æŒ‡é’ˆçš„ä½ç½®ï¼Œä¹Ÿå°±å˜æˆäº†ï¼š

`[4,7,4,9,2,5,8,0,7]`ã€‚`left` å¯¹åº” idx = 1, `right` å¯¹åº” idx = 8.

æ—¢ç„¶è¿™æ—¶å€™ `right` æŒ‡é’ˆå·²ç»è¢«æ›¿æ¢æˆä¸€ä¸ªæ¯” `pivot` æ›´å¤§çš„å…ƒç´ ï¼Œæ—¢ç„¶æˆ‘ä»¬è¦ä¿è¯â€œæ ¸å¿ƒæ€æƒ³â€æˆç«‹ï¼Œæˆ‘ä»¬å½“ç„¶åº”è¯¥æŠŠ `right` ç»§ç»­å‘å·¦ç§»åŠ¨ã€‚æ‰€ä»¥ `right -= 1`ï¼Œä¹Ÿå°±æ˜¯ï¼š

`[4,7,4,9,2,5,8,0,7]`ã€‚`left` å¯¹åº” idx = 1, `right` å¯¹åº” idx = 7.

----

**ç¬¬äºŒæ¬¡è¿­ä»£ï¼š**

æˆ‘ä»¬æŒ‰ç…§ç¬¬ä¸€æ¬¡è¿­ä»£çš„é¡ºåºï¼Œé¦–å…ˆç§»åŠ¨ `right`ã€‚æˆ‘ä»¬å¸Œæœ›å³æŒ‡é’ˆä¸€ç›´ç§»åŠ¨åˆ°ä¸€ä¸ªâ€œæ¯”pivotè¿˜è¦å°çš„å…ƒç´ ä¸ºæ­¢â€ã€‚è¿™é‡Œ `right` æŒ‡å‘çš„ `0` æ­£å¥½æ¯” `pivot` å°ï¼Œè¯´æ˜ä½ç½®å¤ªé åäº†ï¼Œè¦å¾€å‰æŒªï¼ŒæŒªåˆ°å“ªï¼Ÿå°±æ˜¯ `left` æŒ‡é’ˆã€‚æˆ‘ä»¬æŠŠè¿™ä¸ª `0` æ”¾åˆ° `left` æŒ‡é’ˆçš„ä½ç½®ï¼Œä¹Ÿå°±å˜æˆäº†ï¼š

`[4,0,4,9,2,5,8,0,7]`ã€‚`left` å¯¹åº” idx = 1, `right` å¯¹åº” idx = 7.

æ—¢ç„¶è¿™æ—¶å€™ `left` æŒ‡é’ˆå·²ç»è¢«æ›¿æ¢æˆä¸€ä¸ªæ¯” `pivot` æ›´å°çš„å…ƒç´ ï¼Œæ—¢ç„¶æˆ‘ä»¬è¦ä¿è¯â€œæ ¸å¿ƒæ€æƒ³â€æˆç«‹ï¼Œæˆ‘ä»¬å½“ç„¶åº”è¯¥æŠŠ `left` ç»§ç»­å‘å³ç§»åŠ¨ã€‚æ‰€ä»¥ `left += 1`ï¼Œä¹Ÿå°±æ˜¯ï¼š

`[4,0,4,9,2,5,8,0,7]`ã€‚`left` å¯¹åº” idx = 2, `right` å¯¹åº” idx = 7.

ç°åœ¨ï¼Œæˆ‘ä»¬ç§»åŠ¨å·¦è¾¹çš„æŒ‡é’ˆã€‚æˆ‘ä»¬å¸Œæœ›å·¦æŒ‡é’ˆä¸€ç›´ç§»åŠ¨åˆ°ä¸€ä¸ª â€œæ¯”pivotè¿˜è¦å¤§çš„å…ƒç´ ä¸ºæ­¢â€ã€‚é¦–å…ˆï¼Œ`0` æ¯”pivotå°ï¼Œç»§ç»­å‘å³(left++)ï¼Œ`4` æ¯” pivot å°ï¼Œç»§ç»­å‘å³(left++)ã€‚ç°åœ¨ `left` æŒ‡é’ˆç°åœ¨æŒ‡å‘çš„å…ƒç´ æ˜¯ `9`ã€‚è¿™ä¸ªå…ƒç´ æ¯” `pivot` å¤§ï¼Œè¯´æ˜ä½ç½®å¤ªé å‰äº†ï¼Œè¦å¾€åæŒªï¼ŒæŒªåˆ°å“ªï¼Ÿå°±æ˜¯ `right` æŒ‡é’ˆã€‚æˆ‘ä»¬æŠŠè¿™ä¸ª `9` æ”¾åˆ° `right` æŒ‡é’ˆçš„ä½ç½®ï¼Œä¹Ÿå°±å˜æˆäº†ï¼š

`[4,0,4,9,2,5,8,9,7]`ã€‚`left` å¯¹åº” idx = 3, `right` å¯¹åº” idx = 7.

æ—¢ç„¶è¿™æ—¶å€™ `right` æŒ‡é’ˆå·²ç»è¢«æ›¿æ¢æˆä¸€ä¸ªæ¯” `pivot` æ›´å¤§çš„å…ƒç´ ï¼Œæ—¢ç„¶æˆ‘ä»¬è¦ä¿è¯â€œæ ¸å¿ƒæ€æƒ³â€æˆç«‹ï¼Œæˆ‘ä»¬å½“ç„¶åº”è¯¥æŠŠ `right` ç»§ç»­å‘å·¦ç§»åŠ¨ã€‚æ‰€ä»¥ `right -= 1`ï¼Œä¹Ÿå°±æ˜¯ï¼š

`[4,0,4,9,2,5,8,9,7]`ã€‚`left` å¯¹åº” idx = 3, `right` å¯¹åº” idx = 6.

!!! question "è¿™é‡Œä½ å¯èƒ½å‘ç°äº†ï¼Œæ€ä¹ˆæ¯æ¬¡è¿­ä»£åï¼Œæ•°ç»„éƒ½æœ‰ä¸€ä¸ªæ•°å­—é‡å¤äº†ï¼Ÿæ¯”å¦‚ï¼ŒåŸæ¥åº”è¯¥åªæœ‰1ä¸ª9ï¼Œä½†æ˜¯è¿™ä¸ªç»“æœé‡Œæ€ä¹ˆæœ‰2ä¸ªï¼Ÿ"
    å› ä¸ºæˆ‘ä»¬æœ¬æ¥ä¸€å¼€å§‹å°±æ‹¿äº†ä¸€ä¸ª `pivot = 5` åœ¨å¤–é¢ï¼**æˆ‘ä»¬åœ¨è¿­ä»£ç»ˆæ­¢æ—¶å¾—åˆ°çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯ `left` å’Œ `right` ç›¸é‡çš„ä½ç½®ï¼Œå°±æ˜¯ `pivot` åº”è¯¥åœ¨çš„ä½ç½®ï¼** è¿™ä¸ªä½ç½®è¶³å¤Ÿå¥½ï¼Œå¥½åˆ°èƒ½å¤Ÿæ»¡è¶³é‚£ä¸¤ä¸ªâ€œæ ¸å¿ƒæ€æƒ³â€ï¼æ‰€ä»¥ï¼Œå®é™…ä¸Šæ¯æ¬¡è¿­ä»£çš„ç»“æœï¼Œéƒ½æœ‰ä¸€ä¸ªé‡å¤çš„å…ƒç´ ã€‚

----

**ç¬¬ä¸‰æ¬¡è¿­ä»£ï¼š**

æˆ‘ä»¬æŒ‰ç…§ç¬¬ä¸€æ¬¡è¿­ä»£çš„é¡ºåºï¼Œé¦–å…ˆç§»åŠ¨ `right`ã€‚æˆ‘ä»¬å¸Œæœ›å³æŒ‡é’ˆä¸€ç›´ç§»åŠ¨åˆ°ä¸€ä¸ªâ€œæ¯”pivotè¿˜è¦å°çš„å…ƒç´ ä¸ºæ­¢â€ã€‚è¿™é‡Œ `right` æŒ‡å‘çš„ `8` æ¯” `pivot` å°ï¼Œå®ƒè¦ä¸€ç›´æŒªæŒª...æŒªï¼ŒæŒªåˆ° `2` ä¸ºæ­¢ï¼Œè¯¶ï¼Œå¯ä»¥äº†ã€‚è¿™ä¸ª`2`çš„ä½ç½®å¤ªé åäº†ï¼Œè¦å¾€å‰æŒªï¼ŒæŒªåˆ°å“ªï¼Ÿå°±æ˜¯ `left` æŒ‡é’ˆã€‚æˆ‘ä»¬æŠŠè¿™ä¸ª `0` æ”¾åˆ° `left` æŒ‡é’ˆçš„ä½ç½®ï¼Œä¹Ÿå°±å˜æˆäº†ï¼š

`[4,0,4,2,2,5,8,9,7]`ã€‚`left` å¯¹åº” idx = 3, `right` å¯¹åº” idx = 4.

æ—¢ç„¶è¿™æ—¶å€™ `left` æŒ‡é’ˆå·²ç»è¢«æ›¿æ¢æˆä¸€ä¸ªæ¯” `pivot` æ›´å°çš„å…ƒç´ ï¼Œæ—¢ç„¶æˆ‘ä»¬è¦ä¿è¯â€œæ ¸å¿ƒæ€æƒ³â€æˆç«‹ï¼Œæˆ‘ä»¬å½“ç„¶åº”è¯¥æŠŠ `left` ç»§ç»­å‘å³ç§»åŠ¨ã€‚æ‰€ä»¥ `left += 1`ï¼Œä¹Ÿå°±æ˜¯ï¼š

`[4,0,4,2,2,5,8,9,7]`ã€‚`left` å¯¹åº” idx = 4, `right` å¯¹åº” idx = 4.

ç°åœ¨ï¼Œæˆ‘ä»¬ç§»åŠ¨å·¦è¾¹çš„æŒ‡é’ˆ .... ç­‰ç­‰ã€‚æˆ‘ä»¬ä¸èƒ½å†æŒªäº†ï¼Œleft å’Œ `right` å·²ç»ç›¸é‡äº†ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªåˆé€‚çš„ï¼Œæ”¾ç½® `pivot` å…ƒç´ çš„ä½ç½®äº†ï¼æˆ‘ä»¬å¯ä»¥ç»ˆæ­¢è¿­ä»£äº†ï¼

æ­¤æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªçœ‹èµ·æ¥å¥½åƒä¸é‚£ä¹ˆæœ‰åºçš„åºåˆ—ï¼š`[4,0,4,2,2,5,8,9,7]`ï¼Œä»¥åŠä¸€ä¸ªåŒæŒ‡é’ˆç›¸é‡çš„ä½ç½®ç´¢å¼•ï¼Œ`4`.

æˆ‘ä»¬æŠŠpivotå…ƒç´ æ”¾åˆ°ç´¢å¼•çš„ä½ç½®å¤„ï¼Œå½¢æˆäº†æ–°çš„åºåˆ—ï¼š`[4,0,4,2,5,5,8,9,7]`ã€‚çœ‹èµ·æ¥ä¼¼ä¹æ²¡é‚£ä¹ˆæ•´é½ï¼Œä½†æ˜¯ä½ å¯ä»¥æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬åˆšåˆšæ’å…¥çš„ `5` ä¹‹å‰çš„å…ƒç´ ï¼Œéƒ½ä¸æ¯” `5` å¤§ï¼Œè€Œä½äºæ’å…¥çš„ `5` ä¹‹åçš„å…ƒç´ ï¼Œéƒ½ä¸æ¯” `5` å°ã€‚

æ¢å¥è¯è¯´ï¼Œå¯¹äº `5` è¿™ä¸ªå…ƒç´ è€Œè¨€ï¼Œå¦‚æœæˆ‘ä»¬æŠŠå®ƒä¹‹å‰çš„å…ƒç´ éƒ½æ’å¥½åºï¼Œå†æŠŠå®ƒä¹‹åçš„å…ƒç´ éƒ½æ’å¥½åº ... æ‹¼èµ·æ¥ ... é‚£ä¹ˆæ•´ä¸ªæ•°ç»„å°±æ˜¯æœ‰åºçš„äº†ï¼

è¿™å°±æ˜¯å¿«é€Ÿæ’åºçš„ä¸€ä¸ªidea.

æˆ‘ä»¬å¯ä»¥å¦‚æ³•ç‚®åˆ¶ï¼Œå¯¹ `[4,0,4,2]`ï¼Œ`[5,8,9,7]` åˆ†åˆ«æ’åºï¼Œå°±å¯ä»¥äº†ï¼

> æ­¤å¤„çš„æ’åºç•™ä½œä¹ é¢˜ã€‚ä½ å¯ä»¥å¤åˆ¶ä¸‹é¢çš„ä»£ç ï¼Œä½ ä¹Ÿå¯ä»¥è®©Deepseekç»™ä½ ç”Ÿæˆä¸€ä¸ªã€‚


```python

def partition(arr, low, high):
    pivot = arr[low]
    left, right = low, high
    while left < right:
        while left < right and arr[right] > pivot:
            right -= 1
        if left < right:
            arr[left] = arr[right]
            left += 1
        while left < right and arr[left] < pivot:
            left += 1
        if left < right:
            arr[right] = arr[left]
            right -= 1
    arr[left] = pivot 
    return pivot
    
def quicksort(arr, left, right):
    if left < right:
        idx = partition(arr, left, right)
        quicksort(arr, left, idx - 1)
        quicksort(arr, idx + 1, right)
    

if __name__ == "__main__":
    a = [5,7,4,9,2,5,8,0,4]
    quicksort(a, 0, len(a) - 1)
    for i in a:
        print(i)
```

----

## [347. å‰ K ä¸ªé«˜é¢‘å…ƒç´ ](https://leetcode.cn/problems/top-k-frequent-elements/description/?envType=study-plan-v2&envId=top-100-liked)

<!-- æ‰€æœ‰æ–‡ä»¶åå¿…é¡»æ˜¯è¯¥é¢˜ç›®çš„è‹±æ–‡å -->

!!! note "æœ€å°å †"
    <!-- è¿™é‡Œè®°è½½è€ƒå¯Ÿçš„æ•°æ®ç»“æ„ã€ç®—æ³•ç­‰ -->
    - ğŸ”‘ğŸ”‘ éš¾åº¦ï¼š<span style = "color:gold; font-weight:bold">Medium ä¸­ç­‰ </span>

<!-- <span style = "color:gold; font-weight:bold">Medium ä¸­ç­‰ </span> ä¸­ç­‰ -->
<!-- <span style = "color:crisma; font-weight:bold">High å›°éš¾</span> å›°éš¾ -->
<!-- <span style = "color:Green; font-weight:bold">Easy ç®€å•</span> ç®€å• -->

<!-- é¢˜ç›®ç®€ä»‹ -->

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° k ï¼Œè¯·ä½ è¿”å›å…¶ä¸­å‡ºç°é¢‘ç‡å‰ k é«˜çš„å…ƒç´ ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚

 

ç¤ºä¾‹ 1:

> è¾“å…¥: `nums = [1,1,1,2,2,3], k = 2`
> 
> è¾“å‡º: `[1,2]`
> 
> ç¤ºä¾‹ 2:
> 
> è¾“å…¥: `nums = [1], k = 1`
> 
> è¾“å‡º: `[1]`
> 
 

æç¤ºï¼š

è¿›é˜¶ï¼šä½ æ‰€è®¾è®¡ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ å¿…é¡» ä¼˜äº `O(n log n)` ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„å¤§å°ã€‚


```python
import heapq
class Solution:
    def topKFrequent(self, nums: List[int], k: int) -> List[int]:
        freqmap = dict()
        for num in nums:
            if num in freqmap:
                freqmap[num] += 1
            else:
                freqmap[num] = 1
        minHeap = []
        for num, freq in freqmap.items():
            if len(minHeap) < k:
                heapq.heappush(minHeap, (freq, num))
            elif freq > minHeap[0][0]:
                heapq.heappushpop(minHeap, (freq, num))
        
        topK = [num for freq, num in minHeap]
        return topK
```

!!! quote "åªéœ€è¦ç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸º K çš„å †å³å¯ï¼Œæ¯æ¬¡æŒ‰éœ€æ’å…¥ï¼Œåªè¦å‘ç°æŸä¸ªé¢‘ç‡æ¯”å †é¡¶çš„å…ƒç´ æ›´å°ï¼Œå°±pop / pushè¿›å»ã€‚"
